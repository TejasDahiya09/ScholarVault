# ðŸ›¡ï¸ .copilot-instructions.md

## GitHub Copilot Rules for ScholarVault

You are assisting on **ScholarVault**, a production-stable system.

---

## GLOBAL RULES

1. NEVER change working features unless explicitly instructed.
2. NEVER modify database constraints silently.
3. NEVER rely on database errors for control flow.
4. Stability > Refactor > New Features.

---

## BOOKMARKS (CRITICAL â€” FROZEN)

* Table: `bookmarks`
* Uniqueness: `UNIQUE (user_id, note_id)`
* No `subject_id`
* Do NOT align with completions unless explicitly requested

---

## COMPLETIONS (REFERENCE IMPLEMENTATION)

* Table: `completions`
* Uniqueness: `UNIQUE (user_id, note_id, subject_id)`
* True toggle logic only

---

## API RULES

* All toggles must SELECT before INSERT/DELETE
* No blind INSERTs
* No cross-feature coupling

---

## FAILURE POLICY

If unsure:
STOP â†’ ASK â†’ DO NOT GUESS

---
